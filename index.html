<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üåπüëì –ü–æ–∫—É–ø–∫–∏</title>
  <meta name="color-scheme" content="dark" />
  <style>
    :root{
      --bg:#0b0710;
      --bg2:#1a0c22;
      --card:rgba(255,255,255,.07);
      --line:rgba(255,255,255,.14);
      --text:#ffeefb;
      --muted:#e5c4db;
      --accent:#ff4f9a;
      --accent2:#8f6bff;
      --good:#31d0aa;
      --warn:#ff9f44;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% 0%, #471336 0%, transparent 55%),
        radial-gradient(900px 500px at 100% 10%, #2a1951 0%, transparent 55%),
        linear-gradient(160deg, var(--bg), var(--bg2));
      min-height:100vh;
    }
    .wrap{max-width:1060px;margin:0 auto;padding:24px 14px 42px;}
    header{display:flex;gap:14px;justify-content:space-between;align-items:end;margin-bottom:16px;}
    h1{margin:0;font-size:clamp(24px,4.5vw,42px);letter-spacing:.2px;}
    .sub{margin-top:6px;color:var(--muted);font-size:14px;}
    .pill{border:1px solid var(--line);background:rgba(255,255,255,.06);border-radius:999px;padding:7px 12px;font-size:13px;white-space:nowrap}
    .grid{display:grid;grid-template-columns:1.25fr .9fr;gap:12px;}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:18px;
      backdrop-filter: blur(10px);
      box-shadow:0 10px 24px rgba(0,0,0,.22);
      padding:14px;
    }
    .card h2{margin:0 0 10px;font-size:18px}

    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px;align-items:center}
    select, input{
      background:rgba(255,255,255,.06);
      border:1px solid var(--line);
      color:var(--text);
      border-radius:12px;
      padding:10px 12px;
      font-size:14px;
      outline:none;
    }
    input{flex:1;min-width:220px}

    .list{display:grid;gap:10px}
    .item{
      display:grid;
      grid-template-columns:56px 1fr;
      gap:10px;
      border:1px solid var(--line);
      border-radius:16px;
      overflow:hidden;
      background:rgba(255,255,255,.05);
    }
    .img{
      width:56px;height:56px;
      display:grid;place-items:center;
      background:linear-gradient(135deg, rgba(255,79,154,.22), rgba(143,107,255,.18));
      border-right:1px solid rgba(255,255,255,.10);
    }
    .img svg{width:30px;height:30px;opacity:.95}
    .meta{padding:10px 10px 10px 0}
    .row{display:flex;gap:10px;justify-content:space-between;align-items:center}
    .name{font-weight:750}
    .tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
    .tag{font-size:12px;color:#f4d8ea;border:1px solid rgba(255,255,255,.16);padding:3px 8px;border-radius:999px;background:rgba(255,255,255,.05)}
    details{margin-top:8px}
    details summary{cursor:pointer;color:#ffd7ea}
    .desc{margin-top:8px;color:var(--muted);font-size:13.5px;line-height:1.35}
    .links{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .a{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:12px;
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);text-decoration:none;
      background:rgba(255,255,255,.06);
      font-size:13px;
    }
    .a:hover{border-color:rgba(255,255,255,.28)}
    .kpi{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .k{border:1px solid var(--line);background:rgba(255,255,255,.05);border-radius:14px;padding:10px 12px}
    .k .v{font-weight:800}
    .footer{margin-top:10px;color:#dcb4cb;font-size:12px}
    .ok{color:var(--good);font-weight:700}
    .w{color:var(--warn);font-weight:700}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>üåπüëì –ü–æ–∫—É–ø–∫–∏</h1>
        <div class="sub">–ö—Ä–∞—Å–∏–≤—ã–π —Å–ø–∏—Å–æ–∫ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ–¥ <b>–ë–∞—Ä—Å–µ–ª–æ–Ω—É</b> –∏ <b>–ö–∏—à–∏–Ω—ë–≤</b>.</div>
      </div>
      <div class="pill" id="updated"></div>
    </header>

    <div class="grid">
      <section class="card">
        <h2>üßæ –ù—É–∂–Ω–æ –∫—É–ø–∏—Ç—å</h2>
        <div class="controls">
          <select id="city">
            <option value="all">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
            <option value="barcelona">–ë–∞—Ä—Å–µ–ª–æ–Ω–∞</option>
            <option value="chisinau">–ö–∏—à–∏–Ω—ë–≤</option>
          </select>
          <input id="q" placeholder="–ü–æ–∏—Å–∫: –≤–∞–Ω–Ω–∞ / –∫—É—Ö–Ω—è / –±—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è‚Ä¶" />
        </div>
        <div class="list" id="todo"></div>
        <div class="footer">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –æ–ø–∏—Å–∞–Ω–∏—è ‚Äî —ç—Ç–æ –º–æ–∏ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–Ω–µ —Ä–µ–∫–ª–∞–º–∞). –°—Å—ã–ª–∫–∏ ‚Äî —É–¥–æ–±–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ/–º–∞–≥–∞–∑–∏–Ω–Ω—ã–µ.</div>
      </section>

      <section class="card">
        <h2>‚úÖ –ö—É–ø–∏–ª–∏</h2>
        <div class="kpi" id="kpi"></div>
        <div class="list" id="done"></div>
      </section>
    </div>
  </div>

  <script>
    // Data is embedded for GitHub Pages simplicity.
    const DATA = {
      updatedAt: new Date().toISOString(),
      people: {
        barcelona: ['@sprodan', '@mprodan'],
        chisinau: ['@Didinap', '@Papuc_Eugen']
      },
      todo: [
        {
          id: 'bath-cleaner',
          name: '–°—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –≤–∞–Ω–Ω—ã',
          category: '–±—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è',
          cities: ['barcelona','chisinau'],
          icon: 'bath',
          why: {
            barcelona: {
              title: '–Ø –±—ã –±—Ä–∞–ª –≤ Mercadona / Carrefour (–Ω–µ —Å–∞–º—ã–π –¥–µ—à—ë–≤—ã–π, –∞ ¬´–∞–Ω—Ç–∏–Ω–∞–∫–∏–ø—å/–∞–Ω—Ç–∏-–∏–∑–≤–µ—Å—Ç—å¬ª)',
              text: '–í –ë–∞—Ä—Å–µ–ª–æ–Ω–µ –≤–æ–¥–∞ —á–∞—Å—Ç–æ –∂—ë—Å—Ç–∫–∞—è ‚Üí –ª—É—á—à–µ —Å—Ä–µ–¥—Å—Ç–≤–æ —Å –ø–æ–º–µ—Ç–∫–æ–π antical / anti-cal. –≠—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –Ω–∞ –Ω–∞–ª—ë—Ç–µ –∏ —Å—Ç—ë–∫–ª–∞—Ö.'
            },
            chisinau: {
              title: '–Ø –±—ã –∏—Å–∫–∞–ª –≤ Linella / Kaufland (–∏–ª–∏ –ª—é–±–æ–π —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç) —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ ¬´–æ—Ç –Ω–∞–∫–∏–ø–∏¬ª',
              text: '–ì–ª–∞–≤–Ω–æ–µ ‚Äî —á—Ç–æ–±—ã –±—ã–ª–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ—Ç–∏–≤ –∏–∑–≤–µ—Å—Ç–∫–æ–≤–æ–≥–æ –Ω–∞–ª—ë—Ç–∞. –ü–æ –æ—â—É—â–µ–Ω–∏—è–º —ç—Ç–æ —Å–∞–º—ã–π –∑–∞–º–µ—Ç–Ω—ã–π –∞–ø–≥—Ä–µ–π–¥ ¬´–≤–∞–Ω–Ω–∞ –≤—Å–µ–≥–¥–∞ —á–∏—Å—Ç–∞—è¬ª.'
            }
          },
          links: {
            barcelona: [
              { label:'Mercadona (–ø–æ–∏—Å–∫)', url:'https://www.mercadona.es/busqueda?query=antical' },
              { label:'Carrefour (–ø–æ–∏—Å–∫)', url:'https://www.carrefour.es/?q=antical' },
              { label:'Amazon.es (–ø–æ–∏—Å–∫)', url:'https://www.amazon.es/s?k=limpiador+ba%C3%B1o+antical' }
            ],
            chisinau: [
              { label:'Google (–ø–æ–∏—Å–∫)', url:'https://www.google.com/search?q=Chi%C8%99in%C4%83u+antical+cur%C4%83%C8%9Bator+baie' },
              { label:'Kaufland (–ø–æ–∏—Å–∫)', url:'https://www.google.com/search?q=Kaufland+Chi%C8%99in%C4%83u+cur%C4%83%C8%9Bator+baie+antical' }
            ]
          }
        }
      ],
      done: []
    };

    const ICONS = {
      bath: `
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 6a3 3 0 0 1 6 0v3" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
          <path d="M4 9h16v6a5 5 0 0 1-5 5H9a5 5 0 0 1-5-5V9Z" stroke="white" stroke-width="1.6"/>
          <path d="M6 20v2M18 20v2" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
          <path d="M3 12h18" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
        </svg>`
    };

    const cityName = (c) => c === 'barcelona' ? '–ë–∞—Ä—Å–µ–ª–æ–Ω–∞' : c === 'chisinau' ? '–ö–∏—à–∏–Ω—ë–≤' : c;

    const elTodo = document.getElementById('todo');
    const elDone = document.getElementById('done');
    const elUpdated = document.getElementById('updated');
    const elKpi = document.getElementById('kpi');

    elUpdated.textContent = `–û–±–Ω–æ–≤–ª–µ–Ω–æ: ${new Date().toLocaleString('ru-RU')}`;

    const render = () => {
      const city = document.getElementById('city').value;
      const q = document.getElementById('q').value.trim().toLowerCase();

      const filterItem = (it) => {
        const cityOk = city === 'all' || it.cities.includes(city);
        const qOk = !q || (it.name + ' ' + (it.category||'')).toLowerCase().includes(q);
        return cityOk && qOk;
      };

      const card = (it) => {
        const c = (city === 'all') ? (it.cities[0] || 'barcelona') : city;
        const why = it.why?.[c];
        const links = it.links?.[c] || [];

        const cityTags = it.cities.map(x => `<span class="tag">${cityName(x)}</span>`).join('');
        const catTag = it.category ? `<span class="tag">${it.category}</span>` : '';

        return `
          <div class="item">
            <div class="img">${ICONS[it.icon] || ''}</div>
            <div class="meta">
              <div class="row">
                <div class="name">${it.name}</div>
                <div class="tag">#${it.id}</div>
              </div>
              <div class="tags">${cityTags}${catTag}</div>
              <details>
                <summary>${why?.title || '–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è'}</summary>
                <div class="desc">${why?.text || '–î–æ–±–∞–≤—å –≥–æ—Ä–æ–¥ –≤ —Ñ–∏–ª—å—Ç—Ä–µ ‚Äî –ø–æ–∫–∞–∂—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ–µ.'}</div>
                <div class="links">
                  ${links.map(l => `<a class="a" href="${l.url}" target="_blank" rel="noopener noreferrer">üîó ${l.label}</a>`).join('')}
                </div>
              </details>
            </div>
          </div>
        `;
      };

      const todo = DATA.todo.filter(filterItem);
      elTodo.innerHTML = todo.length ? todo.map(card).join('') : `<div style="color:var(--muted)">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –î–æ–±–∞–≤—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä –≤ —á–∞—Ç ‚Äî –∏ —è –æ–±–Ω–æ–≤–ª—é —Å–∞–π—Ç.</div>`;

      const done = DATA.done.filter(filterItem);
      elDone.innerHTML = done.length ? done.map(card).join('') : `<div style="color:var(--muted)">–ü–æ–∫–∞ –ø—É—Å—Ç–æ.</div>`;

      const total = DATA.todo.length + DATA.done.length;
      elKpi.innerHTML = `
        <div class="k"><div class="v">${DATA.todo.length}</div><div class="t" style="color:var(--muted);font-size:12px">–Ω—É–∂–Ω–æ –∫—É–ø–∏—Ç—å</div></div>
        <div class="k"><div class="v">${DATA.done.length}</div><div class="t" style="color:var(--muted);font-size:12px">–∫—É–ø–∏–ª–∏</div></div>
        <div class="k"><div class="v">${total}</div><div class="t" style="color:var(--muted);font-size:12px">–≤—Å–µ–≥–æ</div></div>
      `;
    };

    document.getElementById('city').addEventListener('change', render);
    document.getElementById('q').addEventListener('input', render);

    render();
  </script>
</body>
</html>
